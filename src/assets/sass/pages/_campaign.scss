// -----------------------------------------------------------------------------
// This file contains campaign declarations.
// -----------------------------------------------------------------------------

.layout__header--campaign {
  color: dynamic-color($white);
  background-color: $white;

  box-shadow: $shadow-3;
}

.cs__container {
  width: 100%;
  height: 80vw;
  margin: 1rem 0;
}

.cs__pagination {
  margin-top: 1rem;
  text-align: center;

  .swiper-pagination-bullet-active {
    background-color: $comp-color;
  }
}

.cs__item {
  @include display(flex);
  @include box-pack(center);
  @include box-align(center);
  @include justify-content(center);
  @include align-items(center);

  text-align: center;
  background-color: $white;
  border: 1px solid $frame-color;
  width: 80vw;

  &.cs__item--video {
    background-color: $black;
  }
}

.campaign__intro {
  padding: 1.64rem;

  .campaign__name {
    padding: 1.64rem 0;
    text-align: center;
  }

  .campaign__description {
    color: $text-color-faded;

    ul,
    ol {
      list-style-position: outside;
      margin: 0 0 0 1.1rem;
      padding: 0;

      li {
        margin: 0;
        padding: 0 0 .36rem 0;
      }
    }

    ul {list-style-type: disc;}
    ol {list-style-type: decimal;}
  }

  .link__toggle-more {
    padding: .36rem 1rem .36rem .64rem;
    margin-top: .64rem;
    color: $black;

    @include on-event {
      text-decoration: none;
    }


    [class^='rg'] {
      padding-right: .36rem;
    }
  }
}

.campaign__content {
  padding: 1rem 0;

  .content-list__header {
    padding-top: 2rem;
  }
}

// campaign__tasks__item
.campaign__tasks {
  @include display(flex);
  @include flex-flow(row wrap);
  position: relative;
  margin: calc(1rem - 1%);

  > .campaign__tasks__item {
    @include flex(0 1 auto);
    // color: $white;
    border: 1px solid $frame-color;
    background-color: $white;
    width: calc(50% - 4px);
    height: 7rem;
    padding: .64rem;
    margin: 2px;

    .task__mission {
      color: $text-color-faded;
      display: block;
      font-size: .75rem;
    }

    .task__target {
      color: $text-color-faded;
      display: block;
      font-size: 1.25rem;
      font-weight: $bold;
    }

    .task__icon {
      @extend %social-logo;
      line-height: 1;
      display: block;
      font-size: 3rem;
      position: absolute;
      bottom: .64rem;
      right: .64rem;
    }

    @include respond-to('desktop') {
      width: calc(25% - 4px);
    }

    @include on-event {
      background-color: $brand-color;
      border-color: $brand-color;

      * { color: $white; }
    }
  }
}


// ---------------------------------------------------------
//  Main campaign tasks
// ---------------------------------------------------------
.campaign__priority {
  margin-top: 0 !important;
}

.priority__item {

  .doublesided__side-a {
    .doublesided__trigger {
      font-weight: $bold;
      text-transform: uppercase;
      letter-spacing: .05em;
    }
  }

  .doublesided__side-b {
    //
  }

  &.priority--share {
    .priority--share__post-snippet {
      position: absolute;
      bottom: 1rem;
      left: 1rem;
      right: 1rem;
      font-size: .88rem;
      line-height: 1.36em;
    }

    .priority--share__post-preview {
      position: absolute;
      top: 1rem;
      left: 1rem;
      right: 1rem;
      padding: 0 0 0 4.64rem;
      width: calc(100% - 5rem);
    }

    .post-preview__image {
      position: absolute;
      top: 0;
      left: 0;
      width: 4rem;
    }

    .post-preview__title {
      font-size: 1rem;
      line-height: 1.3em;
      color: $text-color-faded;
    }

    .post-preview__text {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      font-size: .8rem;
      line-height: 1.3em;
      color: $text-color-faded;
      max-height: 5 * 1.28em;
      overflow: hidden;
      text-overflow: ellipsis;
      opacity: .64;

      &::before {
        @include size(100% 1px);
        content: '';
        display: block;
        background-color: $frame-color;
        margin: 1rem 0;
      }
    }

    .priority--share__social-channels {
      position: absolute;
      bottom: 1rem;
      left: 1rem;
      right: 1rem;
      text-align: center;

      > div {display: inline-block;}
    }
  }

  &.priority--hashtag {

    .priority--hashtag__cta {
      position: absolute;
      bottom: 1rem;
      left: 1rem;
      right: 1rem;
      text-align: center;

      span {
        font-size: 1.36rem;
        display: block;
        padding: 1rem;
        margin-bottom: 1rem;
        border-bottom: 1px solid rgba($white, .22);
      }
      strong {}
    }

    .priority--hashtag__post-compose {
      position: absolute;
      top: 1rem;
      left: 1rem;
      right: 1rem;
      padding: 0;
    }

    .priority--hashtag__upload {
      margin: -1rem -1rem 0;
      // width: 70px;
      // height: 70px;
      // border-radius: 100%;
      // border: 1px solid $frame-color;
      // img {position: relative;}
    }
    .file-upload__file-preview {
      z-index: 0 !important;
    }

    .priority--hashtag__text {
      // margin-right: -2rem;
    }
  }

  @include respond-to('desktop') {
    width: calc((100% / 3) - 4px);
  }
}



.campaign__social-feed {

  > .social-feed__item {
    width: calc(50% - 4px);
    height: calc(50vw - 4px);
    min-height: 0;
    padding: .64rem;
    margin: 2px;

    // &:first-of-type,
    &:nth-of-type(5n+1) {
      width: calc(100% - 4px);
    }

    &.cover__container {
      border: 0;

      .image--cover { opacity: .88; }
    }

    .social-feed__text {
      display: block;
      font-size: .9rem;
      line-height: 1.3em;
      height: 7 * 1.3em;
      overflow: hidden;

      em {
        font-weight: $bold;
        font-style: normal;
      }
    }

    .social-feed__details {
      opacity: .9;
      display: block;
      font-size: .88rem;
      position: absolute;
      bottom: .64rem;
      left: .64rem;

      &::after {
        display: block;
        content: attr(data-timestamp);
        font-size: .75em;
        line-height: 1;
      }
    }

    .social-feed__icon {
      @extend %social-logo;
      font-size: 2rem;
      line-height: 1;
      position: absolute;
      bottom: .64rem;
      right: .64rem;
    }

    @include on-event {
      background-color: $brand-color;
      border-color: $brand-color;
      color: $white;

      .image--cover {
        opacity: .1;
      }
    }
  }
}


// Tasks variations ------------------------------------------------------------
.task--other {
  color: #f26522;

  .task__icon::before {
    @extend %reko-glyph;
    content: '\53';
    font-size: 3.36rem;
    line-height: .75;
    left: .25rem;
  }
}

.task--facebook {
  color: #365397;

  .task__icon::before {
    content: '\31';
  }
}

.task--rss {
  color: #f26522;

  .task__icon::before {
    content: '\33';
  }
}

.task--get-pocket {
  color: #ef4056;

  .task__icon::before {
    content: '\35';
  }
}

.task--globe {
  color: #008bcf;

  .task__icon::before {
    content: '\34';
  }
}

.task--google {
  color: #4285f4;

  .task__icon::before {
    content: '\36';
  }
}

.task--google-plus {
  color: #dc4e41;

  .task__icon::before {
    content: '\37';
  }
}

.task--instagram {
  color: #f56040;

  .task__icon::before {
    content: '\39';
  }
}

.task--linkedin-square {
  color: #006db3;

  .task__icon::before {
    content: '\30';
  }
}

.task--medium {
  color: #00ab6b;

  .task__icon::before {
    content: '\61';
  }
}

.task--pinterest {
  color: #ce1a19;

  .task__icon::before {
    content: '\62';
  }
}

.task--rss-square {
  color: #f26522;

  .task__icon::before {
    content: '\64';
  }
}

.task--spotify {
  color: #2ebd59;

  .task__icon::before {
    content: '\65';
  }
}

.task--tumblr {
  color: #304c68;

  .task__icon::before {
    content: '\66';
  }
}

.task--twitch {
  color: #6441a5;

  .task__icon::before {
    content: '\68';
  }
}

.task--twitter {
  color: #00a9f1;

  .task__icon::before {
    content: '\69';
  }
}

.task--vimeo {
  color: #48b6ed;

  .task__icon::before {
    content: '\6b';
  }
}

.task--vine {
  color: #00b488;

  .task__icon::before {
    content: '\6d';
  }
}

.task--vk {
  color: #45668e;

  .task__icon::before {
    content: '\6e';
  }
}

.task--wikipedia-w {
  color: #444;

  .task__icon::before {
    content: '\6f';
  }
}

.task--yelp {
  color: #c30f00;

  .task__icon::before {
    content: '\70';
  }
}

.task--youtube {
  color: #f33;

  .task__icon::before {
    content: '\73';
  }
}


// Social Feed channels -----------------------------------------------------------
.item--facebook {
  .social-feed__icon::before {
    content: '\31';
  }
}

.item--google-plus {
  .social-feed__icon::before {
    content: '\37';
  }
}

.item--instagram {
  .social-feed__icon::before {
    content: '\39';
  }
}

.item--medium {
  .social-feed__icon::before {
    content: '\61';
  }
}

.item--pinterest {
  .social-feed__icon::before {
    content: '\62';
  }
}

.item--tumblr {
  .social-feed__icon::before {
    content: '\66';
  }
}

.item--twitter {
  .social-feed__icon::before {
    content: '\69';
  }
}

.item--vimeo {
  .social-feed__icon::before {
    content: '\6b';
  }
}

.item--vine {
  .social-feed__icon::before {
    content: '\6d';
  }
}

.item--vk {
  .social-feed__icon::before {
    content: '\6e';
  }
}

.item--yelp {
  .social-feed__icon::before {
    content: '\70';
  }
}

.item--youtube {
  .social-feed__icon::before {
    content: '\73';
  }
}
