!function(a){a.fn.modal=function(b){var c,d,e,f=a.extend({header:"",message:"",buttons:"close",lang:"pl"},b);c=""===f.message?"":'<p class="modal__msg">'+f.message+"</p>",d=""===f.header?"":'<h2 class="modal__head">'+f.header+"</h2>","close"===f.buttons?e='</div><div class="modal__close-button" id="modal__close" data-icon="z"></div>':"ok"===f.buttons&&(e='<a href="#" onclick="preventDefault" class="button" id="modal__close">Rozumiem</a></div>');var g=a("<div>",{id:"modal","class":"modal__overlay",html:'<div class="modal__body">'+d+c+e});return a(document).on("click touchstart",function(b){"modal__close"==b.target.id&&a("#modal").fadeOut(300,function(){a(this).remove()})}),this.append(g)}}(jQuery),$(function(){function a(a){a.matches?($("body").addClass("device--desktop"),$("body").removeClass("device--mobile")):($("body").removeClass("device--desktop"),$("body").addClass("device--mobile"))}console.log("ready!"),$(".social-reach__add-channel").on("click",function(){$("body").modal({header:"Udało się!",message:"Dodałeś społeczność",buttons:"ok"})}),$("img").each(function(){$(this).addClass("preload"),$(this).on("load",function(){$(this).removeClass("preload")})}),$("body").removeClass("preload"),$("img.image--cover").each(function(){$(this).on("load",function(a){var b=this.height,c=this.width,d=b/c;$(this).parent().addClass("cover__container"),.8>d?$(this).addClass("cover--wide"):d>1.2?$(this).addClass("cover--tall"):$(this).addClass("cover--sqr")}).each(function(){this.complete&&$(this).load()})});var b,c,d,e;if($("a:not(.no-ripple), button:not(.no-ripple), .ripple").click(function(a){0===$(this).find(".ink").length&&$(this).prepend('<span class="ink"></span>'),b=$(this).find(".ink"),b.removeClass("animate"),b.height()||b.width()||(c=Math.max($(this).outerWidth(),$(this).outerHeight()),b.css({height:c,width:c})),d=a.pageX-$(this).offset().left-b.width()/2,e=a.pageY-$(this).offset().top-b.height()/2,b.css({top:e+"px",left:d+"px"}).addClass("animate")}),$(".input").click(function(a){0===$(this).find(".input__field").length&&$(this).prepend('<div class="input__field"></div>'),0===$(this).find(".input__field .ink").length&&$(this).find(".input__field").prepend('<span class="ink"></span>'),b=$(this).find(".input__field .ink"),b.removeClass("animate"),b.height()||b.width()||(c=Math.max($(this).outerWidth(),$(this).outerHeight()),b.css({height:c,width:c})),d=a.pageX-$(this).offset().left-b.width()/2,e=a.pageY-$(this).offset().top-b.height()/2,b.css({top:e+"px",left:d+"px"}).addClass("animate")}),$("body").bind("DOMSubtreeModified",function(){$("input, select, textarea").on("focus",function(a){var b=$(this).next("label");$(this).on("blur",function(){var a=$(this).val();a?($(this).addClass("input--used"),$(this).is(":invalid")?b.html(b.data("invalid")):b.html(b.data("focused"))):($(this).removeClass("input--used"),b.html(b.data("original")))}),$(this).hasClass("input--used")&&$(this).removeClass("input--used")})}),$("body").bind("DOMSubtreeModified",function(){$("input, select, textarea").each(function(){var a=$(this).next("label"),b=$(this).val();b?($(this).addClass("input--used"),$(this).is(":invalid")?a.html(a.data("invalid")):a.html(a.data("focused"))):($(this).removeClass("input--used"),a.html(a.data("original")),$(this).is(":valid")&&$(this).addClass("input--valid"))})}),$("textarea").autogrow({horizontal:!1,vertical:!0,flickering:!1}),$("#showPass").on("click",function(){$(this).toggleClass("showing"),$("#password").is("[type=password]")?$("#password").attr("type","text").focus():$("#password").attr("type","password").focus()}),$(".roll-out__trigger").on("click",function(a){a.preventDefault(),$(this).parent().toggleClass("roll-out--opened")}),$("#triggerLogo").on("click",function(a){a.preventDefault(),window.location="/"}),matchMedia){var f=window.matchMedia("(min-width: 768px)");f.addListener(a),a(f)}$("#kidsNumber").on("change each",function(){var a=$(this).val(),b=$("#kidsInputs .grid__container").length,c=-1*(b-a);if(0===a)$("#kidsInputs .grid__container").slice(c).remove();else if(a>b)for(i=0;i<a-b;i++)$("#kidsInputs").append('<div class="grid__container grid--gutter">  <div class="grid__item grid__item--1of2">    <div class="input input--date input--show-label">      <input tabindex      name="user-baby'+a+'-bday" id="user-baby'+a+'-bday" type="date"      autocomplete="baby'+a+'-bday"      required      spellcheck="true"      placeholder="Podaj datę">      <label for="user-baby'+a+'-bday"      data-focused="'+a+'. Data urodzenia"      data-original="Podaj datę urodzenia"      data-invalid="To pole jest wymagane."></label>    </div>  </div>  <div class="grid__item grid__item--1of2">    <div class="input input--select input--show-label">      <select name="user-baby'+a+'-gender" id="user-baby'+a+'-gender" required>        <option value="" selected disabled>Podaj płeć</option>        <option value="K">Dziewczynka</option>        <option value="M">Chłopiec</option>      </select>      <label for="user-baby'+a+'-gender"      data-focused="Płeć dziecka"      data-original="Podaj płeć dziecka"      data-invalid="To pole jest obowiązkowe"></label>    </div>  </div></div>'),$("#kidsInputs input, #kidsInputs select").each(function(){var a=$(this).next("label"),b=$(this).val();b?($(this).addClass("input--used"),$(this).is(":invalid")?a.html(a.data("invalid")):a.html(a.data("focused"))):($(this).removeClass("input--used"),a.html(a.data("original")),$(this).is(":valid")&&$(this).addClass("input--valid"))});else c=-1*(b-a),$("#kidsInputs .grid__container").slice(c).remove()}),$(".input").change(function(){var a=$(this),b=this.name,c=this.value;localStorage.setItem("savedData","true"),console.log(b),console.log(a),console.log(c)})}),$(function(){function a(){$("header").hasClass("nav--showMenu")?c():b()}function b(){$("header").removeClass("hidden").addClass("nav--showMenu"),$("body, html").addClass("content--toSide"),window.setTimeout(function(){$("body").addClass("page--noScroll")},200),$("header nav a").attr("tabindex","")}function c(){$("body, html").removeClass("content--toSide"),window.setTimeout(function(){$("body").removeClass("page--noScroll")},10),$("header").removeClass("nav--showMenu"),$("header nav a").attr("tabindex","-1"),$("#triggerMenu").blur()}var d=0,e=36,f=10;$(window).scroll(function(){if(!$("header").hasClass("nav--showMenu")){var a=$(this).scrollTop(),b=Math.abs(a-d);a>e?($("header").hasClass("scrolled")||$("header").addClass("scrolled"),b>=f&&(a>d?$("header").hasClass("hidden")||$("header").addClass("hidden"):$("header").hasClass("hidden")&&$("header").removeClass("hidden"))):($("header").removeClass("scrolled"),0>=a&&$("header").removeClass("hidden")),window.innerHeight+window.scrollY>=document.body.offsetHeight&&$("body:not(.template--poll) header").removeClass("hidden"),d=a}}),$("#triggerMenu").on("click touchstart",function(b){a(),b.preventDefault()}),$("header nav").on("click touchstart",function(a){a.stopPropagation()}),$("header .nav--secondary").on("click touchstart",function(a){$("header").hasClass("hidden")&&($("header").removeClass("hidden"),a.preventDefault())}),$("main").on("click touchstart",function(a){$("header").hasClass("nav--showMenu")&&(c(),a.preventDefault())}),$("body").keydown(function(b){$("#triggerMenu").is(":focus")&&(13!==b.keyCode&&32!==b.keyCode||(a(),b.preventDefault())),27===b.keyCode&&(a(),b.preventDefault())})}),$(function(){$(".answer--pick > input").on("change",function(){var a=$(".poll__answers").data("maxPick");$(":checked").length==a?($(".answer--pick > input").prop("disabled","disabled"),$(":checked").removeAttr("disabled")):$(".answer--pick > input").removeAttr("disabled"),$(".answer--pick > input").each(function(){var a=$(this).is(":checked"),b=$(this).prop("disabled");a?$(this).parent().hasClass("no-card")?$(this).parent().addClass("picked"):$(this).parent().addClass("layout--card-3 picked"):$(this).parent().hasClass("no-card")?$(this).parent().removeClass("picked"):$(this).parent().removeClass("layout--card-3 picked"),b?$(this).parent().addClass("disabled"):$(this).parent().removeClass("disabled")})}).change(),$(".answer--pick").on("mouseup",function(){var a=$(this).find("[type=checkbox]").is(":checked");a?$(this).find(".input > input").off("focus"):$(this).find(".input > input").focus()}),$(".answer--input input[type=text]").on("focus change",function(){$(this).siblings("input[type=checkbox]").prop("checked",!0)}),$(".input--number").each(function(){var a,b,c=$(this).find(".number__more"),d=$(this).find(".number__less"),e=$(this).find("input[type=number], input[type=tel]"),f=Number(e.val()),g=e.attr("min"),h=e.attr("max"),i=e.attr("step")?Number(e.attr("step")):1,j=$(this).find(".number__suffix"),k=j.data();Math.abs(f)>=5?j.text(k.suffixFivemore):Math.abs(f)>=2&&Math.abs(f)<=4?j.text(k.suffixMaxfive):1==Math.abs(f)?j.text(k.suffixSingle):j.text(k.suffixFivemore),c.on("touchstart mousedown",function(c){e.addClass("input--used"),f=Number(e.val()),h>f||!h?(f+=i,e.val(f).change(),c.preventDefault(),b=setTimeout(function(){a=setInterval(function(){h>f||!h?(f+=i,e.val(f).change()):(f=h,e.val(f).change())},100)},1e3)):(f=h,e.val(f).change())}),d.on("touchstart mousedown",function(c){f=Number(e.val()),f>g||!g?(f-=i,e.val(f).change(),c.preventDefault(),b=setTimeout(function(){a=setInterval(function(){f>g||!g?(f-=i,e.val(f).change()):(f=g,e.val(f).change())},100)},1e3)):(f=g,e.val(f).change())}),$(document).on("touchend mouseup",function(c){clearInterval(a),clearTimeout(b)}),e.on("change paste keyup",function(){f=Number(e.val()),Math.abs(f)>=5?j.text(k.suffixFivemore):Math.abs(f)>=2&&Math.abs(f)<=4?j.text(k.suffixMaxfive):1==Math.abs(f)?j.text(k.suffixSingle):j.text(k.suffixFivemore)})}),$(".answer--image").longpress(function(){var a=$(this).data(),b='<img src="'+a.fullsize+'" alt="">';$("body").modal({message:b})}),$(".answer--drag").draggable({addClasses:!1,zIndex:1111,revert:!0,revertDuration:150,drag:function(a,b){},stop:function(a,b){}}),$(".sort-bucket--source").sortable({placeholder:"answer--sort__placeholder",activate:function(a,b){$(b.item).addClass("layout--card-4 picked"),$(".sort-bucket--source").each(function(){$(this).children().length>1?$(this).addClass("has-content"):$(this).removeClass("has-content")})},deactivate:function(a,b){$(b.item).removeClass("layout--card-4 picked"),$(".sort-bucket--source").each(function(){$(this).children().length>1?$(this).addClass("has-content"):$(this).removeClass("has-content")})}}),$(".drag-bucket--target, .drag-bucket--source").droppable({addClasses:!1,hoverClass:"get-ready",drop:function(a,b){$(b.draggable).removeAttr("style").appendTo(this)},activate:function(a,b){$(b.draggable).addClass("layout--card-4 picked"),$(".drag-bucket--target, .drag-bucket--source").each(function(){$(this).children().length>1?$(this).addClass("has-content"):$(this).removeClass("has-content")})},deactivate:function(a,b){$(b.draggable).removeClass("layout--card-4 picked"),$(".drag-bucket--target, .drag-bucket--source").each(function(){$(this).children().length>1?$(this).addClass("has-content"):$(this).removeClass("has-content")})}}),$(".drag-bucket--target, .drag-bucket--source, .sort-bucket--source").each(function(){$(this).children().length>1?$(this).addClass("has-content"):$(this).removeClass("has-content")}),$(".slider").each(function(a){var b=$(this),c=b.data("preffix")?b.data("preffix"):"",d=b.data("suffix")?b.data("suffix"):"",e={slide:function(a,e){var f=e.value;b.siblings(".slider__value").val(c+f+d)}},f={slide:function(a,e){var f=e.values;b.siblings(".slider__value").val(c+f[0]+d+" — "+c+f[1]+d)}},g={value:b.data("sDefault"),min:b.data("sMin"),max:b.data("sMax"),step:b.data("sStep")},h={range:"min"},i={range:!0,values:b.data("sDefault"),min:b.data("sMin"),max:b.data("sMax"),step:b.data("sStep")},j={};if(b.hasClass("slider--snapping")&&(j=$.extend(j,g,e)),b.hasClass("slider--value-range")&&(j=$.extend(j,h)),b.hasClass("slider--range")&&(j=$.extend(j,i,f)),b.hasClass("slider--select")){var k=b.siblings("select"),l=k.children().size();j={range:"min",value:k[0].selectedIndex+1,min:1,max:l,step:1,slide:function(a,b){k[0].selectedIndex=b.value-1}},k.attr("disabled","disabled")}b.slider(j),b.hasClass("slider--range")?b.siblings(".slider__value").val(c+b.slider("values",0)+d+" — "+c+b.slider("values",1)+d):b.siblings(".slider__value").val(c+b.slider("value")+d)})});